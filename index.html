<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ° C9 1íšŒì°¨ ë‚­í”Œë‹¨</title>

<style>
body {
    background: #FFF6FA;
    font-family: "Pretendard", -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
    display: flex;
    justify-content: center;
    padding: 20px 16px;
    margin: 0;
    color: #4c2d3b;
}
.wrap {
    width: 100%;
    max-width: 1080px;
    margin: 0 auto;
}

/* ì œëª© */
h1 {
    text-align: center;
    font-size: 22px;
    font-weight: 800;
    margin-bottom: 12px;
    color: #FF8FB2;
}

/* ê²€ìƒ‰ë°” */
.filter-bar {
    display: flex;
    justify-content: center;
    gap: 8px;
    margin-bottom: 12px;
    font-size: 13px;
}
.filter-bar input {
    flex: 1;
    max-width: 260px;
    padding: 6px 10px;
    border-radius: 999px;
    border: 1px solid #ffd6ea;
    background: #FFF9FD;
    outline: none;
}
.filter-bar input:focus {
    border-color: #ff9fc7;
    box-shadow: 0 0 0 2px rgba(255,159,199,0.25);
}

/* ìŠ¤í¬ë¡¤ ë˜í¼ */
.table-scroll {
    overflow-x: auto;
    padding-bottom: 4px;
}

/* í…Œì´ë¸”(í–‰ ë¬¶ìŒ) */
.table {
    display: flex;
    flex-direction: column;
    gap: 4px;            /* ğŸ”¹ í–‰ ì‚¬ì´ ê°„ê²© ì¤„ì„ */
    min-width: 760px;
}

/* í–‰ */
.row {
    display: flex;
    background: white;
    border-radius: 24px;
    overflow: hidden;
    box-shadow: 0 1px 4px rgba(255,150,180,0.08);
    padding: 2px 0;      /* ğŸ”¹ í–‰ ë†’ì´ ì¤„ì´ê¸° */
}

/* ì…€ ê³µí†µ */
.cell {
    padding: 4px 8px;    /* ğŸ”¹ ì„¸ë¡œ íŒ¨ë”© ì¤„ì„ */
    font-size: 14px;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    border-right: 1px solid #FFE1EF;
    outline: none;
    cursor: text;
    white-space: nowrap;
}
.cell:last-child {
    border-right: none;
}

/* í—¤ë” */
.header {
    background: #FFEFF7;
}
.header .cell {
    font-weight: 700;
    color: #D04F7D;
    border-bottom: 2px solid #F8C7DB;
    contenteditable: false;
    cursor: default;
}

/* ì •ë ¬ ë²„íŠ¼ í‘œì‹œ */
.sort-btn {
    cursor: pointer;
}
.sort-btn span {
    font-size: 11px;
    margin-left: 4px;
}

/* í–‰ ì œì–´ ì¹¸ */
.action-cell {
    position: relative;
    width: 70px;
    cursor: default;
    border-right: none;
}
.action-buttons {
    display: none;
    gap: 4px;
    position: absolute;
    right: 4px;
    top: 50%;
    transform: translateY(-50%);
}
.action-buttons button {
    background: #FFD8EA;
    border: none;
    border-radius: 999px;
    padding: 3px 7px;
    font-size: 11px;
    cursor: pointer;
    color: #D24E78;
}
.row.show-actions .action-buttons {
    display: flex;
}

/* í•©ê³„ í–‰ */
.summary-row {
    background: #FFF9FD;
    font-weight: 700;
    color: #cc507a;
}

/* í–‰ ìƒ‰ìƒ íŒ”ë ˆíŠ¸ (ì—°í•œ í•‘í¬) */
:root {
    --lv0: #FFFFFF;
    --lv1: #FFF9FD;
    --lv2: #FFF3FA;
    --lv3: #FFE9F4;
    --lv4: #FFE0EF;
    --lv5: #FFD7EB;
    --lv6: #FFCEE7;
    --lv7: #FFC6E3;
    --lv8: #FFBEDF;
    --lv9: #FFB6DA;
}

/* ì—­íŒ¬ ìˆ˜ë™ ìˆ˜ì • ì…€ ê°•ì¡° */
.ygp-cell.manual {
    background: #F1E8FF;   /* ìˆ˜ë™ìˆ˜ì •ì¸ ê²½ìš° ì‚´ì§ ë³´ë¼ë¹› */
}
    /* ì—­íŒ¬ ìµœì†Œ ë„ˆë¹„ ê³ ì • */
.ygp-cell {
    min-width: 70px;
}
</style>
</head>

<body>
<div class="wrap">

    <h1>ğŸ° C9 1íšŒì°¨ ë‚­í”Œë‹¨</h1>

    <!-- ê²€ìƒ‰ -->
    <div class="filter-bar">
        <input id="search" type="text" placeholder="ì•„ì´ë”” / ë‹‰ë„¤ì„ ê²€ìƒ‰">
    </div>

    <div class="table-scroll">
        <div class="table" id="table">

            <!-- í—¤ë” -->
            <div class="row header">
                <div class="cell">ì•„ì´ë””</div>
                <div class="cell">ë‹‰ë„¤ì„</div>
                <div class="cell sort-btn" data-sort="amount">
                    ë‚­í”Œ
                    <span id="sort-indicator">â¬</span>
                </div>
                <div class="cell">ì›í”Œì›</div>
                <div class="cell">ê³µì•½</div>
                <div class="cell">ì—­íŒ¬</div>
                <div class="cell">ë¹„ê³ </div>
                <div class="cell action-cell"></div>
            </div>

            <!-- ë°ì´í„° í–‰ë“¤ -->
            <div class="row data-row">
                <div class="cell" contenteditable="true">dksl2233</div>
                <div class="cell" contenteditable="true">[C9]ì˜í•´</div>
                <div class="cell amount-cell" contenteditable="true">210092</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ì •ì„±ë°©ì…€ + ì—­íŒ¬ 3% or ë°°ë¯¼ 50ë§Œì› + ë°©ì†¡ì†Œì›ê¶Œ + ì‹ë°</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">fox11241</div>
                <div class="cell" contenteditable="true">#woorinangni</div>
                <div class="cell amount-cell" contenteditable="true">50000</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ì¹´í†¡ + ì—­íŒ¬ 3% + ì •ì„±ë°©ì…€ + ì†Œì†Œí•œì„ ë¬¼</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">hantong113</div>
                <div class="cell" contenteditable="true">ì˜ˆìˆ˜í˜•2â†‘</div>
                <div class="cell amount-cell" contenteditable="true">15151</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ì¹´í†¡ + ì—­íŒ¬ 3% + ì •ì„±ë°©ì…€ or ì›í•˜ëŠ” ì§ì›ê³¼ ë°©ì…€(ëŒ€í‘œë‹˜ í¬í•¨)</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">knifehoo</div>
                <div class="cell" contenteditable="true">ê¹€ë°°í„°</div>
                <div class="cell amount-cell" contenteditable="true">12790</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ì¹´í†¡ + ì—­íŒ¬ 3% + ì •ì„±ë°©ì…€ or ì›í•˜ëŠ” ì§ì›ê³¼ ë°©ì…€(ëŒ€í‘œë‹˜ í¬í•¨)</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">airess16</div>
                <div class="cell" contenteditable="true">ì˜´ë¸Œë¦¬ë‰´íŒ¬</div>
                <div class="cell amount-cell" contenteditable="true">12442</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ì¹´í†¡ + ì—­íŒ¬ 3% + ì •ì„±ë°©ì…€ or ì›í•˜ëŠ” ì§ì›ê³¼ ë°©ì…€(ëŒ€í‘œë‹˜ í¬í•¨)</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">wjddudtjr777</div>
                <div class="cell" contenteditable="true">ë‚­ë¬´ìƒˆ</div>
                <div class="cell amount-cell" contenteditable="true">11574</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ì¹´í†¡ + ì—­íŒ¬ 3% + ì •ì„±ë°©ì…€ or ì›í•˜ëŠ” ì§ì›ê³¼ ë°©ì…€(ëŒ€í‘œë‹˜ í¬í•¨)</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">kokoko2151</div>
                <div class="cell" contenteditable="true">ë¡œë„Œ</div>
                <div class="cell amount-cell" contenteditable="true">11473</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ì¹´í†¡ + ì—­íŒ¬ 3% + ì •ì„±ë°©ì…€ or ì›í•˜ëŠ” ì§ì›ê³¼ ë°©ì…€(ëŒ€í‘œë‹˜ í¬í•¨)</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">jounguk892</div>
                <div class="cell" contenteditable="true">ê½‚ì„ë•Œí¬ì—´</div>
                <div class="cell amount-cell" contenteditable="true">9295</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ì—­íŒ¬3% + ë°©ì…€ (ì‚¬ì§„ 2ì¥, ì›€ì§¤ 1ì¥)</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">zxczsd235</div>
                <div class="cell" contenteditable="true">ìš¸ì„ë¼í˜•2â†‘</div>
                <div class="cell amount-cell" contenteditable="true">5734</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ì—­íŒ¬3% + ë°©ì…€ (ì‚¬ì§„ 2ì¥, ì›€ì§¤ 1ì¥)</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">malguman</div>
                <div class="cell" contenteditable="true">ë„ë§‘ìŒ</div>
                <div class="cell amount-cell" contenteditable="true">5289</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ì—­íŒ¬3% + ë°©ì…€ (ì‚¬ì§„ 2ì¥, ì›€ì§¤ 1ì¥)</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">pretty5869</div>
                <div class="cell" contenteditable="true">ì´ì˜ë©´ê¹…ì˜ˆì†”</div>
                <div class="cell amount-cell" contenteditable="true">5146</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ì—­íŒ¬3% + ë°©ì…€ (ì‚¬ì§„ 2ì¥, ì›€ì§¤ 1ì¥)</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">noble275</div>
                <div class="cell" contenteditable="true">ê¼¬ë¼ì§€í•˜ê³ ëŠ”</div>
                <div class="cell amount-cell" contenteditable="true">5000</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ì—­íŒ¬3% + ë°©ì…€ (ì‚¬ì§„ 2ì¥, ì›€ì§¤ 1ì¥)</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">22noka</div>
                <div class="cell" contenteditable="true">ëŒ€ì¶œê°šëŠ”ë”ë•</div>
                <div class="cell amount-cell" contenteditable="true">2400</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ì—­íŒ¬ 3% + ê³ ì • ì‚¬ì§„ ë°©ì…€</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">tjd01084</div>
                <div class="cell" contenteditable="true">ë‚­ê²¨ìš¸â™¥</div>
                <div class="cell amount-cell" contenteditable="true">2044</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ì—­íŒ¬ 3% + ê³ ì • ì‚¬ì§„ ë°©ì…€</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">kegsdop42</div>
                <div class="cell" contenteditable="true">ì¡°ë¸”ë“±ì¥</div>
                <div class="cell amount-cell" contenteditable="true">1572</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ì—­íŒ¬ 3% + ê³ ì • ì‚¬ì§„ ë°©ì…€</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">nowtomorrow</div>
                <div class="cell" contenteditable="true">ì´ˆì½”í†¡í•‘</div>
                <div class="cell amount-cell" contenteditable="true">1329</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ì—­íŒ¬ 3% + ê³ ì • ì‚¬ì§„ ë°©ì…€</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">stevendan85</div>
                <div class="cell" contenteditable="true">ìŠ¤í‹°ë¸ëŒ„</div>
                <div class="cell amount-cell" contenteditable="true">1234</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ì—­íŒ¬ 3% + ê³ ì • ì‚¬ì§„ ë°©ì…€</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">gkeksty</div>
                <div class="cell" contenteditable="true">ì‚¬ì—…ìëŒ€ì¶œ</div>
                <div class="cell amount-cell" contenteditable="true">1233</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ì—­íŒ¬ 3% + ê³ ì • ì‚¬ì§„ ë°©ì…€</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">sang6111</div>
                <div class="cell" contenteditable="true">ì‹œê³¨ì²­ë…„ë¹µí›ˆ</div>
                <div class="cell amount-cell" contenteditable="true">499</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 3ë§Œì›ê¶Œ 5ëª…</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">begin0824</div>
                <div class="cell" contenteditable="true">ë¹™ê³ ì¥¬ìŠ¤</div>
                <div class="cell amount-cell" contenteditable="true">346</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 3ë§Œì›ê¶Œ 5ëª…</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">ksh5154</div>
                <div class="cell" contenteditable="true">ê²€ì€ëˆˆí† ë¼</div>
                <div class="cell amount-cell" contenteditable="true">300</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 3ë§Œì›ê¶Œ 5ëª…</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">akxkrxkr</div>
                <div class="cell" contenteditable="true">[C9]ooï½–</div>
                <div class="cell amount-cell" contenteditable="true">299</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 3ë§Œì›ê¶Œ 5ëª…</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">leewooyul</div>
                <div class="cell" contenteditable="true">ìˆ˜í¬ê¹€</div>
                <div class="cell amount-cell" contenteditable="true">200</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ë‚¨ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">krhtlgh123</div>
                <div class="cell" contenteditable="true">ê³¨íƒ€369</div>
                <div class="cell amount-cell" contenteditable="true">200</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ë‚¨ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">kpcm800610</div>
                <div class="cell" contenteditable="true">ë§ˆì´í˜•2â†‘</div>
                <div class="cell amount-cell" contenteditable="true">109</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ë‚¨ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">dumbo0131</div>
                <div class="cell" contenteditable="true">ë‹¹êµ°!</div>
                <div class="cell amount-cell" contenteditable="true">109</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ë‚¨ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">mammaq</div>
                <div class="cell" contenteditable="true">ÎšÎ•ÎÎ–Î™</div>
                <div class="cell amount-cell" contenteditable="true">100</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ë‚¨ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">milla0315</div>
                <div class="cell" contenteditable="true">í—¤ì´ì¦â™¡</div>
                <div class="cell amount-cell" contenteditable="true">100</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ë‚¨ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">smsm4162</div>
                <div class="cell" contenteditable="true">í”„ë¡œê²œë¸”ëŸ¬</div>
                <div class="cell amount-cell" contenteditable="true">100</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ë‚¨ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">hilase</div>
                <div class="cell" contenteditable="true">ì¶œêµ¬í˜•2â†‘</div>
                <div class="cell amount-cell" contenteditable="true">100</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ë‚¨ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">abss1003</div>
                <div class="cell" contenteditable="true">ì˜ë¨¹ëŠ”ì¡±êµ¬</div>
                <div class="cell amount-cell" contenteditable="true">100</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ë‚¨ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">poby4280</div>
                <div class="cell" contenteditable="true">ì´í¬í˜•</div>
                <div class="cell amount-cell" contenteditable="true">100</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ë‚¨ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">n6628220</div>
                <div class="cell" contenteditable="true">ì–´ë‘ ì˜ë³´ì‚¬ë‹¨</div>
                <div class="cell amount-cell" contenteditable="true">100</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ë‚¨ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">aisaromi</div>
                <div class="cell" contenteditable="true">ì”¨êµ¬</div>
                <div class="cell amount-cell" contenteditable="true">100</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ë‚¨ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">kimjin7204</div>
                <div class="cell" contenteditable="true">ë°•í™”ìš”ìš”</div>
                <div class="cell amount-cell" contenteditable="true">100</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ë‚¨ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">kimsumgk77</div>
                <div class="cell" contenteditable="true">ë¬´ìƒë„</div>
                <div class="cell amount-cell" contenteditable="true">100</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ë‚¨ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">nowfree1004</div>
                <div class="cell" contenteditable="true">ê³ êµ¬ë§ˆì—ê¹€ì¹˜</div>
                <div class="cell amount-cell" contenteditable="true">100</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ë‚¨ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">slionics</div>
                <div class="cell" contenteditable="true">â˜†íŒ¨ì…˜â˜†</div>
                <div class="cell amount-cell" contenteditable="true">100</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ë‚¨ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <div class="row data-row">
                <div class="cell" contenteditable="true">vdfntqa85</div>
                <div class="cell" contenteditable="true">##38ê´‘ë•¡</div>
                <div class="cell amount-cell" contenteditable="true">100</div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ë‚¨ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
                <div class="cell ygp-cell" contenteditable="true" data-auto="true"></div>
                <div class="cell" contenteditable="true"></div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button>
                        <button class="del">ğŸ—‘</button>
                    </div>
                </div>
            </div>

            <!-- í•©ê³„ í–‰ (ê°’ì€ JSë¡œ ìë™ ê³„ì‚°) -->
            <div class="row summary-row">
                <div class="cell">í•©ê³„</div>
                <div class="cell"></div>
                <div class="cell summary-amount"></div>
                <div class="cell"></div>
                <div class="cell"></div>
                <div class="cell summary-ygp"></div>
                <div class="cell"></div>
                <div class="cell action-cell"></div>
            </div>

        </div>
    </div>
</div>

<script>
/* === 1. í–‰ ìƒ‰ìƒ + ì—­íŒ¬ ìë™ê³„ì‚° === */
function applyRowStyle(row){
    const amountCell = row.querySelector(".amount-cell");
    const ygpCell    = row.querySelector(".ygp-cell");
    if(!amountCell || !ygpCell) return;

    const num = parseInt(amountCell.innerText.replace(/[^0-9]/g,'')) || 0;

    // ìë™ ëª¨ë“œì¼ ë•Œë§Œ 3% ê³„ì‚°
    if (ygpCell.dataset.auto !== "false") {
        if (num > 0) {
            ygpCell.innerText = Math.round(num * 0.03);
        } else {
            ygpCell.innerText = "";
        }
        ygpCell.dataset.auto = "true";
        ygpCell.classList.remove("manual");
    }

    let lv="--lv0";
    if(num >=100 && num<=298) lv="--lv1";
    else if(num<=999) lv="--lv2";
    else if(num<=2999) lv="--lv3";
    else if(num<=4999) lv="--lv4";
    else if(num<=9999) lv="--lv5";
    else if(num<=49999) lv="--lv6";
    else if(num<=99999) lv="--lv7";
    else if(num<=299999) lv="--lv8";
    else if(num>=300000) lv="--lv9";

    row.style.background = `var(${lv})`;
}

/* í•©ê³„ */
function updateSummary(){
    const sumAmountCell = document.querySelector(".summary-amount");
    const sumYgpCell    = document.querySelector(".summary-ygp");
    if(!sumAmountCell || !sumYgpCell) return;

    let sumAmount = 0, sumYgp = 0;
    document.querySelectorAll(".data-row").forEach(row=>{
        const a = parseInt(row.querySelector(".amount-cell").innerText.replace(/[^0-9]/g,'')) || 0;
        const y = parseInt(row.querySelector(".ygp-cell").innerText   .replace(/[^0-9]/g,'')) || 0;
        sumAmount += a;
        sumYgp    += y;
    });
    sumAmountCell.innerText = sumAmount || "";
    sumYgpCell.innerText    = sumYgp || "";
}

/* ì „ì²´ ê°±ì‹  */
function refreshAll(){
    document.querySelectorAll(".data-row").forEach(applyRowStyle);
    updateSummary();
}

/* === 2. ì—´ ë„ˆë¹„ ìë™ ë™ê¸°í™” (ê°€ì¥ ê¸´ ê°’ ê¸°ì¤€) === */
function syncColumnWidths(){
    const rows = [...document.querySelectorAll(".row")];
    if(rows.length < 2) return;

    const cols = rows[0].children.length;
    let widths = Array(cols).fill(0);

    rows.forEach(row=>{
        [...row.children].forEach((cell,i)=>{
            widths[i] = Math.max(widths[i], cell.scrollWidth);
        });
    });

    rows.forEach(row=>{
        [...row.children].forEach((cell,i)=>{
            cell.style.width = widths[i] + "px";
        });
    });
}

/* === 3. í–‰ í´ë¦­ â†’ ë²„íŠ¼ í‘œì‹œ + ë°°ê²½ í´ë¦­ ì‹œ í‚¤ë³´ë“œ ë‹«ê¸° === */
document.addEventListener("click", (e)=>{
    const clickedRow = e.target.closest(".data-row");
    document.querySelectorAll(".data-row").forEach(r=>r.classList.remove("show-actions"));
    if(clickedRow) clickedRow.classList.add("show-actions");

    const isCell = e.target.closest(".cell");
    if (!isCell) {
        const active = document.activeElement;
        if (active && active.classList.contains("cell")) active.blur();
    }
});

/* === 4. í–‰ ì¶”ê°€ / ì‚­ì œ === */
function addRow(after){
    const newRow = after.cloneNode(true);
    newRow.querySelectorAll(".cell").forEach(c=>{
        if(!c.classList.contains("action-cell")){
            c.innerText = "";
        }
        if(c.classList.contains("ygp-cell")){
            c.dataset.auto = "true";
            c.classList.remove("manual");
        }
    });
    after.insertAdjacentElement("afterend", newRow);
    refreshAll();
    syncColumnWidths();
}

function deleteRow(row){
    const dataRows = document.querySelectorAll(".data-row");
    if(dataRows.length <= 1){
        alert("ë§ˆì§€ë§‰ í–‰ì€ ì‚­ì œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
        return;
    }
    row.remove();
    refreshAll();
    syncColumnWidths();
}

document.addEventListener("click", (e)=>{
    if(e.target.classList.contains("add")){
        const row = e.target.closest(".data-row");
        addRow(row);
    }
    if(e.target.classList.contains("del")){
        const row = e.target.closest(".data-row");
        deleteRow(row);
    }
});

/* === 5. ë‚­í”Œ ì •ë ¬ (ì˜¤ë¦„/ë‚´ë¦¼ í† ê¸€) === */
let sortDir = 1; // 1 = ì˜¤ë¦„, -1 = ë‚´ë¦¼
const sortIndicator = document.getElementById("sort-indicator");

document.querySelector(".sort-btn").addEventListener("click", ()=>{
    const rows = [...document.querySelectorAll(".data-row")];
    const table = document.getElementById("table");
    const summary = document.querySelector(".summary-row");

    rows.sort((a,b)=>{
        const A = parseInt(a.querySelector(".amount-cell").innerText.replace(/[^0-9]/g,'')) || 0;
        const B = parseInt(b.querySelector(".amount-cell").innerText.replace(/[^0-9]/g,'')) || 0;
        return (A - B) * sortDir;
    });

    sortDir *= -1;
    sortIndicator.textContent = sortDir === 1 ? "â¬†" : "â¬‡";

    rows.forEach(r=>table.insertBefore(r, summary));

    refreshAll();
    syncColumnWidths();
});

/* === 6. ê²€ìƒ‰ (ì•„ì´ë””/ë‹‰ë„¤ì„) === */
const searchInput = document.getElementById("search");
searchInput.addEventListener("input", ()=>{
    const q = searchInput.value.trim().toLowerCase();

    document.querySelectorAll(".data-row").forEach(row=>{
        const id   = row.children[0].innerText.toLowerCase();
        const nick = row.children[1].innerText.toLowerCase();
        const show = !q || id.includes(q) || nick.includes(q);
        row.style.display = show ? "flex" : "none";
    });

    syncColumnWidths();
});

/* === 7. ì…ë ¥ ë³€í™” â†’ ìë™ ê°±ì‹  + ì—­íŒ¬ ìˆ˜ë™ ëª¨ë“œ ì²˜ë¦¬ === */
document.addEventListener("input", (e)=>{
    const cell = e.target;
    const row = cell.closest(".data-row");
    if(!row) return;

    const amtCell = row.querySelector(".amount-cell");
    const ygpCell = row.querySelector(".ygp-cell");

    // ë‚­í”Œ ìˆ˜ì • ì‹œ: ìë™ ëª¨ë“œì¸ ì—­íŒ¬ë§Œ ë‹¤ì‹œ ê³„ì‚° (applyRowStyle ë‚´ë¶€ì—ì„œ ì²˜ë¦¬ë¨)
    if (cell === amtCell && ygpCell && ygpCell.dataset.auto !== "false") {
        // nothing extra; refreshAllì—ì„œ ì²˜ë¦¬
    }

    // ì—­íŒ¬ ì…€ ì§ì ‘ ìˆ˜ì • ì‹œ: ìˆ˜ë™ ëª¨ë“œ ì „í™˜
    if (cell === ygpCell) {
        ygpCell.dataset.auto = "false";
        ygpCell.classList.add("manual"); // ë³´ë¼ìƒ‰ í•˜ì´ë¼ì´íŠ¸
    }

    refreshAll();
    syncColumnWidths();
});

/* ì´ˆê¸° ì‹¤í–‰ */
window.onload = ()=>{
    refreshAll();
    syncColumnWidths();
};
</script>

</body>
</html>
