<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ° C9 1íšŒì°¨ ë‚­í”Œë‹¨</title>

<style>
body {
    background: #FFF6FA;
    font-family: "Pretendard", system-ui, sans-serif;
    display: flex;
    justify-content: center;
    padding: 40px 16px;
    color: #4c2d3b;
}

/* ë©”ì¸ ì»¨í…Œì´ë„ˆ */
.wrap {
    width: 100%;
    max-width: 900px;
}

/* íƒ€ì´í‹€ */
h1 {
    text-align: center;
    font-size: 22px;
    font-weight: 800;
    margin-bottom: 20px;
    color: #FF8FB2;
}

/* í…Œì´ë¸” êµ¬ì¡° */
.table {
    display: flex;
    flex-direction: column;
    gap: 10px; /* í–‰ ê°„ê²© */
}

/* í–‰ */
.row {
    display: grid;
    grid-template-columns: 1.1fr 1.2fr 1fr 1fr 1.4fr 1fr 1.4fr;
    background: white;
    border-radius: 16px;
    padding: 8px 0;
    overflow: hidden;
    box-shadow: 0 2px 6px rgba(255,150,180,0.12);
}

/* ì…€ */
.cell {
    padding: 10px;
    text-align: center;
    font-size: 14px;
    border-right: 1px solid #ffe1ef;
    outline: none;
    contenteditable: true;
}

/* ë§ˆì§€ë§‰ ì…€ ì˜¤ë¥¸ìª½ì„  ì œê±° */
.cell:last-child {
    border-right: none;
}

/* í—¤ë” (ìˆ˜ì •ë¶ˆê°€) */
.header .cell {
    background: #FFE8F4;
    color: #D55382;
    font-weight: 700;
    contenteditable: false;
}

/* í¬ì»¤ìŠ¤ íš¨ê³¼ */
.cell:focus {
    background: #ffe6f6;
}

/* ìƒ‰ìƒ ë ˆë²¨ */
:root {
    --lv0: #FFFFFF;
    --lv1: #FFF6FB;
    --lv2: #FFEFF7;
    --lv3: #FFE6F3;
    --lv4: #FFDEEF;
    --lv5: #FFD5EB;
    --lv6: #FFCDE6;
    --lv7: #FFC5E2;
    --lv8: #FFBCD9;
    --lv9: #FFB2D0;
}
</style>
</head>

<body>
<div class="wrap">

<h1>ğŸ° C9 1íšŒì°¨ ë‚­í”Œë‹¨</h1>

<div class="table" id="table">

    <!-- í—¤ë” -->
    <div class="row header">
        <div class="cell">ì•„ì´ë””</div>
        <div class="cell">ë‹‰ë„¤ì„</div>
        <div class="cell">ê°¯ìˆ˜</div>
        <div class="cell">ì›í”Œì›</div>
        <div class="cell">ê³µì•½</div>
        <div class="cell">ì—­íŒ¬</div>
        <div class="cell">ë¹„ê³ </div>
    </div>

    <!-- ìƒ˜í”Œ -->
    <div class="row data">
        <div class="cell">danggun</div>
        <div class="cell">ë‹¹êµ°</div>
        <div class="cell amount">30000</div>
        <div class="cell">1</div>
        <div class="cell">ì¶œì„</div>
        <div class="cell ygp"></div>
        <div class="cell">VIP</div>
    </div>

</div>

</div>

<script>
const table = document.getElementById("table");

/* ê·œì¹™ ê¸°ë°˜ ìƒ‰ìƒ + ì—­íŒ¬ ê³„ì‚° */
function applyStyle(row){
    const amt = row.querySelector(".amount");
    const ygp = row.querySelector(".ygp");

    if(!amt || !ygp) return;

    const num = parseInt(amt.innerText.replace(/[^0-9]/g,'')) || 0;

    // ì—­íŒ¬ = 3% (ë°˜ì˜¬ë¦¼)
    ygp.innerText = num > 0 ? Math.round(num * 0.03) : "";

    // ìƒ‰ ì ìš©
    let lv="--lv0";
    if(num >= 100 && num <= 298) lv="--lv1";
    else if(num <= 999) lv="--lv2";
    else if(num <= 2999) lv="--lv3";
    else if(num <= 4999) lv="--lv4";
    else if(num <= 9999) lv="--lv5";
    else if(num <= 49999) lv="--lv6";
    else if(num <= 99999) lv="--lv7";
    else if(num <= 299999) lv="--lv8";
    else if(num >= 300000) lv="--lv9";

    row.style.background = `var(${lv})`;
}

/* ì „ì²´ ì ìš© */
function refresh(){
    document.querySelectorAll(".row.data").forEach(applyStyle);
}
refresh();

/* ì…ë ¥ ì‹œ ë°˜ì‘ */
table.addEventListener("input", e=>{
    const row = e.target.closest(".row.data");
    if(row) applyStyle(row);
});

/* ëª¨ë°”ì¼ ì‚¬íŒŒë¦¬ í¬ì»¤ìŠ¤ ê°•ì œ */
document.addEventListener("click", e=>{
    const cell = e.target.closest(".cell");
    if(cell) cell.focus();
});
document.addEventListener("touchend", e=>{
    const cell = e.target.closest(".cell");
    if(cell) setTimeout(()=>cell.focus(), 10);
});
</script>

</body>
</html>
